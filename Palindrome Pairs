from typing import List

class Solution:
    def palindromePairs(self, words: List[str]) -> List[List[int]]:
        word_map = {w[::-1]: i for i, w in enumerate(words)}
        res = []

        for i, word in enumerate(words):
            n = len(word)
            for cut in range(n + 1):
                left = word[:cut]
                right = word[cut:]
                if left == left[::-1]:
                    if right in word_map and word_map[right] != i:
                        res.append([word_map[right], i])

          
                if cut != n and right == right[::-1]:
                    if left in word_map and word_map[left] != i:
                        res.append([i, word_map[left]])

        return res
